<?xml version="1.0" encoding="UTF-8"?><html xmlns:concordion="http://www.concordion.org/2007/concordion"><head><style>* {
  font-family: Arial;
}
body {
  padding: 32px;  
}
pre {
  padding: 6px 28px 6px 28px;
  background-color: #E8EEF7;
}
pre, pre *, code, code *, kbd {
  font-family: Courier New, Courier;
  font-size: 10pt;
}
h1, h1 * {
  font-size: 24pt;	
}
p, td, th, li, .breadcrumbs {
  font-size: 10pt;
}
p, li {
  line-height: 140%;
  max-width: 720px;
}
table {
  border-collapse: collapse;
  empty-cells: show;
  margin: 8px 0px 8px 0px;
}
th, td {
  border: 1px solid black;
  padding: 3px;
}
td {
  background-color: white;
  vertical-align: top;
}
th {
  background-color: #C3D9FF;
}
li {
  margin-top: 6px;
  margin-bottom: 6px; 
}

.example, :not(th)[concordion\:example] {
  padding: 6px 16px 6px 16px;
  border: 1px solid #C3D9FF;
  margin: 6px 0px 28px 0px;
  background-color: #F5F9FD;
}
.example h3, [concordion\:example] h3 {
  margin-top: 8px;
  margin-bottom: 8px;
  font-size: 12pt;
}

p.success {
  padding: 2px;
}
.success, .success * {
  background-color: #afa !important;
}
.success pre {
  background-color: #bbffbb;
}
.failure, .failure * {
  background-color: #ffb0b0;
  padding: 1px;
}
.failure .expected {
  text-decoration: line-through;
  color: #bb5050;
}
.ignored, .ignored * {
  background-color: #f0f0f0 !important;	
}

ins {
  text-decoration: none;	
}

.exceptionMessage {
  background-color: #fdd;
  font-family: Courier New, Courier, Monospace;
  font-size: 10pt;
  display: block;
  font-weight: normal;
  padding: 4px;
  text-decoration: none !important;
}
.stackTrace, .stackTrace * {
  font-weight: normal;
}
.stackTrace {
  display: none;
  padding: 1px 4px 4px 4px;
  background-color: #fdd;
  border-top: 1px dotted black;
}
.stackTraceExceptionMessage {
  display: block;
  font-family: Courier New, Courier, Monospace;
  font-size: 8pt;
  white-space: wrap;
  padding: 1px 0px 1px 0px;
}
.stackTraceEntry {
  white-space: nowrap;
  font-family: Courier New, Courier, Monospace;
  display: block;
  font-size: 8pt;
  padding: 1px 0px 1px 32px;
}
.stackTraceButton {
  font-size: 8pt;
  margin: 2px 8px 2px 0px;
  font-weight: normal;
  font-family: Arial;
}

.special {
  font-style: italic;
}
.missing, .missing * {
  background-color: #ff9999;
  color:#bb5050;
  text-decoration: line-through;
}
.surplus, .surplus * {
  background-color: #ff9999;
}
.footer {
  text-align: right;
  margin-top: 40px;
  font-size: 8pt;
  width: 100%;
  color: #999;
}
.footer .testTime {
  padding: 2px 10px 0px 0px;
}

.idea {
  font-size: 9pt;
  color: #888;
  font-style: italic;	
}
.tight li {
  margin-top: 1px;
  margin-bottom: 1px; 
}
.commentary {
  float: right;
  width: 200px;
  background-color: #ffffd0;
  padding:8px;
  border: 3px solid #eeeeb0;	 
  margin: 10px 0px 10px 10px;	 
}
.commentary, .commentary * {
  font-size: 8pt;
}
</style><meta http-equiv="content-type" content="text/html; charset=UTF-8" /></head><body><span class="breadcrumbs"><a href="../../Concordion.html">Concordion</a> &gt; <a href="../SpecificationType.html">Specification Types</a> &gt; <a href="Markdown.html">Markdown</a> &gt;</span><h1>Concordion Markdown Grammar</h1>
<p><em>Since</em>: Concordion 2.0.0</p>
<p>With the Markdown extension, Concordion commands are expressed using Markdown links, for example:</p>
<p><code>[value](- "command")</code></p>
<p>This format separates the instrumentation (<code>command</code>) from the specification (<code>value</code>). When viewed with a Markdown editor only the specification is shown, with the instrumentation displayed as a title when you hover over the <code>value</code>. The URL has to be set to <code>-</code>, otherwise it will be treated as a normal Markdown link.</p>
<p>The Markdown extension converts the Markdown to XHTML, with the instrumentation as attributes, prior to running Concordion with the XHTML format specification as input.</p>
<p>This specification describes the grammar for the Markdown instrumentation and checks that it generates correctly formatted instrumentation in XHTML.</p>
<h2>Link Styles</h2>
<p>The extension supports both inline links and reference links.</p>
<p>In both styles, the text <code>value</code> is delimited by square brackets.</p>
<h3>Inline Links</h3>
<p>Inline links have a set of regular parentheses immediately after the link text’s closing square bracket. Inside the parentheses are a <code>-</code> for the URL followed by a space followed by the command, surrounded in quotes (either single or double quotes are allowed). For example:</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[Jane Doe](- '#name')</td>
      <td class="success">&lt;span concordion:set="#name"&gt;Jane Doe&lt;/span&gt;</td>
    </tr>
  </table>
</div>
<h3>Reference Links</h3>
<p>As an alternative to inline links, reference links can be used. This can help make the Markdown source more readable, especially for table headers or lengthy commands.</p>
<p>Reference links have a set of square brackets immediately after the link text’s closing square bracket. The link definition can then be placed anywhere in the document. See the <a href="https://daringfireball.net/projects/markdown/syntax#link">Markdown syntax page</a> for more details.</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>My name is [Jane Doe][name]<br />
<br />
<br />
[name]: - "?=getFullName()"</td>
      <td class="success">My name is &lt;span concordion:assert-equals="getFullName()"&gt;Jane Doe&lt;/span&gt;</td>
    </tr>
  </table>
</div>
<p>If the link text is the same as the link name, you can use implicit links:</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>will be [split][] into<br />
<br />
<br />
[split]: - "#result = split(#name)"</td>
      <td class="success">will be &lt;span concordion:execute="#result = split(#name)"&gt;split&lt;/span&gt; into </td>
    </tr>
  </table>
</div>
<h2>Commands</h2>
<ul>
<li><a concordion:run="concordion" href="MarkdownAssertEqualsCommand.html" class="success">assert-equals</a></li>
<li><a concordion:run="concordion" href="MarkdownExampleCommand.html" class="success">example</a></li>
<li><a concordion:run="concordion" href="MarkdownExecuteCommand.html" class="success">execute</a></li>
<li><a concordion:run="concordion" href="MarkdownRunCommand.html" class="success">run</a></li>
<li><a concordion:run="concordion" href="MarkdownSetCommand.html" class="success">set</a></li>
<li><a concordion:run="concordion" href="MarkdownVerifyRowsCommand.html" class="success">verify-rows</a></li>
</ul>
<h3>Expression-only commands</h3>
<p>Some commands only require an expression and don't need a text value to be passed. However, Markdown links always require link text.</p>
<p>Any text value that starts with italics will be set to an empty text value in the output specification.</p>
<div class="example">
  <h3>Example</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[_set time_](- "setCurrentTime(#time)")</td>
      <td class="success">&lt;span concordion:execute="setCurrentTime(#time)"&gt;&lt;/span&gt;</td>
    </tr>
  </table>
</div>
<h3>Arbitrary Commands</h3>
<p>Any Concordion command can be included in the title of the Markdown link by using the prefix <code>c:</code>.</p>
<p>Note that, unlike HTML format specifications, the expression is not enclosed in additional quotes. Neither are the value of any additional parameters passed to the command.</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>
        <pre>
[value](- "c:command=expression")              
        </pre>
      </td>
      <td class="success">
&lt;span concordion:command="expression"&gt;value&lt;/span&gt;
      </td>
    </tr>
    <tr>
      <td>
        <pre>
[value](- "c:command=expression param=x")              
        </pre>
      </td>
      <td class="success">
&lt;span concordion:command="expression" param="x"&gt;value&lt;/span&gt;
      </td>
    </tr>
    <tr>
      <td>
        <pre>
[value](- "c:command=expression param1=x param2=y")              
        </pre>
      </td>
      <td class="success">
&lt;span concordion:command="expression" param1="x" param2="y"&gt;value&lt;/span&gt;
      </td>
    </tr>
  </table>
</div>
<h3>Embedding HTML</h3>
<p>For cases where the Markdown syntax is too restrictive, you can <a href="https://daringfireball.net/projects/markdown/syntax#html">inline HTML</a>.</p>
<p>This can be used to embed Concordion structures that are not currently supported by the Markdown syntax.</p>
<p><a id="execute-on-a-list" /></p>
<h4>Execute on a list</h4>
<p>The <a href="http://concordion.github.io/concordion/latest/spec/command/execute/ExecutingList.html">execute on a list</a> command can be implemented using the HTML list structure, wrapped in a <code>&lt;div&gt;</code> element. For example:</p>
<pre><code>&lt;div&gt;
    &lt;ol concordion:execute="parseNode(#TEXT, #LEVEL)"&gt;
        &lt;li&gt;Europe&lt;/li&gt;
        &lt;ul&gt;
            &lt;li&gt;Austria&lt;/li&gt;
            &lt;ol&gt;
                &lt;li&gt;Vienna&lt;/li&gt;
            &lt;/ol&gt;
            &lt;li&gt;UK&lt;/li&gt;
            &lt;ul&gt;
                &lt;li&gt;England&lt;/li&gt;
                &lt;li&gt;Scotland&lt;/li&gt;
            &lt;/ul&gt;
            &lt;li&gt;France&lt;/li&gt;
        &lt;/ul&gt;
        &lt;li&gt;Australia&lt;/li&gt;
    &lt;/ol&gt;
&lt;/div&gt;
</code></pre>
<h4>Handling unusual sentence structures</h4>
<p>In order to <a href="https://concordion.org/Tutorial.html#executeUnusualSentences">handle unusual sentence structures</a>, Concordion allows you to use an <code>execute</code> command on an outer HTML element. When using Markdown, this can be implemented using the HTML structure wrapped in a <code>&lt;div&gt;</code>.</p>
<pre><code>&lt;div&gt;
    &lt;p concordion:execute="#greeting = greetingFor(#firstName)"&gt;
        The greeting "&lt;span concordion:assertEquals="#greeting"&gt;Hello Bob!&lt;/span&gt;"
        should be given to user &lt;span concordion:set="#firstName"&gt;Bob&lt;/span&gt;
        when he logs in.
    &lt;/p&gt;
&lt;/div&gt;
</code></pre>
<h2>Non-Concordion links</h2>
<p>The set, assert-equals and execute commands require the link URL to be set to <code>-</code>. Links with other URLs are not modified. For example:</p>
<div class="example">
  <h3>Example</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[John](- "#a")</td>
      <td class="success">&lt;span concordion:set="#a"&gt;John&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[John](john.html)</td>
      <td class="success">&lt;a href="john.html"&gt;John&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>[John](john.html "Details about John")</td>
      <td class="success">&lt;a href="john.html" title="Details about John"&gt;John&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>[John](john.html "#More about John")</td>
      <td class="success">&lt;a href="john.html" title="#More about John"&gt;John&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>[John](-.html "Weird URL")</td>
      <td class="success">&lt;a href="-.html" title="Weird URL"&gt;John&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>[John](.)</td>
      <td class="success">&lt;a href="."&gt;John&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>[John](#)</td>
      <td class="success">&lt;a href="#"&gt;John&lt;/a&gt;</td>
    </tr>
  </table>
</div>
<h2>Support for Concordion commands in other namespaces, eg extensions</h2>
<p>In order to include Concordion commands with namespaces other than the default Concordion namespaces, such as those available in extensions, you must declare the namespace.</p>
<p>Add the <code>@ConcordionOptions</code> annotation to the fixture class, with the <code>declareNamespaces</code> element set to a list of strings, where the values alternate between namespace prefixes and the namespace they are mapped to. For example:</p>
<pre><code>@RunWith(ConcordionRunner.class)
@ConcordionOptions(declareNamespaces={"ext", "urn:concordion-extensions:2010"})
public class MyFixture
</code></pre>
<p>The namespaced command can then be included in the title of the Markdown link, using the prefix declared in the annotation.</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[-](- "ext:embed=getDetails()")</td>
      <td class="success">&lt;span ext:embed="getDetails()"&gt;-&lt;/span&gt;</td>
    </tr>
  </table>
</div>
<h2>Additional checks</h2>
<h3>Command formatted</h3>
<p>Commands can be formatted with bold or italic text</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>__[a](- "#b")__</td>
      <td class="success">&lt;strong&gt;&lt;span concordion:set="#b"&gt;a&lt;/span&gt;&lt;/strong&gt;</td>
    </tr>
    <tr>
      <td>*[c](- "#d")*</td>
      <td class="success">&lt;em&gt;&lt;span concordion:set="#d"&gt;c&lt;/span&gt;&lt;/em&gt;</td>
    </tr>
  </table>
</div>
<h3>Multiple commands on a single line</h3>
<p>Multiple commands on the same line are supported.</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[1](- "#x") + [2](- "#y") = [3](- "?=add(#x,#y)")</td>
      <td class="success">&lt;span concordion:set="#x"&gt;1&lt;/span&gt; + &lt;span concordion:set="#y"&gt;2&lt;/span&gt; = &lt;span concordion:assert-equals="add(#x,#y)"&gt;3&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[3](- "?=three()"). [Fred](- "#name").</td>
      <td class="success">&lt;span concordion:assert-equals="three()"&gt;3&lt;/span&gt;. &lt;span concordion:set="#name"&gt;Fred&lt;/span&gt;.</td>
    </tr>
  </table>
</div>
<h3>HTML entities</h3>
<p>HTML entities in the text value are automatically escaped.</p>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
      <td>[&amp; &lt; 3](- "#x")</td>
      <td class="success">&lt;span concordion:set="#x"&gt;&amp;amp; &amp;lt; 3&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;div&gt;](- "#d")</td>
      <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;div&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;div class="x"&gt;](- "#d")</td>
      <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;div class=&amp;quot;x&amp;quot;&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;request&gt;](- "#d")</td>
      <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;request&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;div&gt;&lt;br/&gt;&lt;/div&gt;](- "#d")</td>
      <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;div&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;?xml version='1.0' encoding='UTF-8'?&gt;](- "#decl")</td>
      <td class="success">&lt;span concordion:set="#decl"&gt;&amp;lt;?xml version='1.0' encoding='UTF-8'?&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&amp; &lt; 3](- "c:set=#x")</td>
      <td class="success">&lt;span concordion:set="#x"&gt;&amp;amp; &amp;lt; 3&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>[&lt;div&gt;](- "c:set=#d")</td>
      <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;div&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>

[&amp; &lt; 3][]

[&amp; &lt; 3]: - "c:set=#x"

      </td>
      <td class="success">&lt;span concordion:set="#x"&gt;&amp;amp; &amp;lt; 3&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>

[&lt;div&gt;][xx]

[xx]: - "#d"

       </td>
       <td class="success">&lt;span concordion:set="#d"&gt;&amp;lt;div&amp;gt;&lt;/span&gt;</td>
    </tr>
    <tr>
      <td>

|[foo](- "foo()")|[a &lt; b](- "#d")|[x&gt;](- "?=#d")|
| -------------- | ------------- | ------------ |
| bar            |       a &lt; b   |            x&gt;|

      </td>
      <td class="success">&lt;table concordion:execute="foo()"&gt; &lt;thead&gt; &lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th concordion:set="#d"&gt;a &amp;lt; b&lt;/th&gt;&lt;th concordion:assert-equals="#d"&gt;x&amp;gt;&lt;/th&gt;&lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt;&lt;td&gt; bar &lt;/td&gt;&lt;td&gt; a &amp;lt; b &lt;/td&gt;&lt;td&gt; x&amp;gt;&lt;/td&gt;&lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;</td>
    </tr>
  </table>
</div>
<h3>Extended character set</h3>
<div class="example">
  <h3>Examples</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assert-equals="#html">Resultant HTML</th>
    </tr>
    <tr>
        <td>é</td>
        <td class="success">é</td>
    </tr>
  </table>
</div><div class="footer">Results generated by <a href="http://www.concordion.org" style="font-weight: bold; text-decoration: none; color: #89C;">Concordion</a><div class="testTime">in 194 ms on 20-Jun-2021 at 17:25:05 NZST</div></div></body></html>