<?xml version="1.0" encoding="UTF-8"?><html xmlns:concordion="http://www.concordion.org/2007/concordion"><head><style>* {
  font-family: Arial;
}
body {
  padding: 32px;  
}
pre {
  padding: 6px 28px 6px 28px;
  background-color: #E8EEF7;
}
pre, pre *, code, code *, kbd {
  font-family: Courier New, Courier;
  font-size: 10pt;
}
h1, h1 * {
  font-size: 24pt;	
}
p, td, th, li, .breadcrumbs {
  font-size: 10pt;
}
p, li {
  line-height: 140%;
  max-width: 720px;
}
table {
  border-collapse: collapse;
  empty-cells: show;
  margin: 8px 0px 8px 0px;
}
th, td {
  border: 1px solid black;
  padding: 3px;
}
td {
  background-color: white;
  vertical-align: top;
}
th {
  background-color: #C3D9FF;
}
li {
  margin-top: 6px;
  margin-bottom: 6px; 
}

.example, :not(th)[concordion\:example] {
  padding: 6px 16px 6px 16px;
  border: 1px solid #C3D9FF;
  margin: 6px 0px 28px 0px;
  background-color: #F5F9FD;
}
.example h3, [concordion\:example] h3 {
  margin-top: 8px;
  margin-bottom: 8px;
  font-size: 12pt;
}

p.success {
  padding: 2px;
}
.success, .success * {
  background-color: #afa !important;
}
.success pre {
  background-color: #bbffbb;
}
.failure, .failure * {
  background-color: #ffb0b0;
  padding: 1px;
}
.failure .expected {
  text-decoration: line-through;
  color: #bb5050;
}
.ignored, .ignored * {
  background-color: #f0f0f0 !important;	
}

ins {
  text-decoration: none;	
}

.exceptionMessage {
  background-color: #fdd;
  font-family: Courier New, Courier, Monospace;
  font-size: 10pt;
  display: block;
  font-weight: normal;
  padding: 4px;
  text-decoration: none !important;
}
.stackTrace, .stackTrace * {
  font-weight: normal;
}
.stackTrace {
  display: none;
  padding: 1px 4px 4px 4px;
  background-color: #fdd;
  border-top: 1px dotted black;
}
.stackTraceExceptionMessage {
  display: block;
  font-family: Courier New, Courier, Monospace;
  font-size: 8pt;
  white-space: wrap;
  padding: 1px 0px 1px 0px;
}
.stackTraceEntry {
  white-space: nowrap;
  font-family: Courier New, Courier, Monospace;
  display: block;
  font-size: 8pt;
  padding: 1px 0px 1px 32px;
}
.stackTraceButton {
  font-size: 8pt;
  margin: 2px 8px 2px 0px;
  font-weight: normal;
  font-family: Arial;
}

.special {
  font-style: italic;
}
.missing, .missing * {
  background-color: #ff9999;
  color:#bb5050;
  text-decoration: line-through;
}
.surplus, .surplus * {
  background-color: #ff9999;
}
.footer {
  text-align: right;
  margin-top: 40px;
  font-size: 8pt;
  width: 100%;
  color: #999;
}
.footer .testTime {
  padding: 2px 10px 0px 0px;
}

.idea {
  font-size: 9pt;
  color: #888;
  font-style: italic;	
}
.tight li {
  margin-top: 1px;
  margin-bottom: 1px; 
}
.commentary {
  float: right;
  width: 200px;
  background-color: #ffffd0;
  padding:8px;
  border: 3px solid #eeeeb0;	 
  margin: 10px 0px 10px 10px;	 
}
.commentary, .commentary * {
  font-size: 8pt;
}
</style><meta http-equiv="content-type" content="text/html; charset=UTF-8" /></head><body><span class="breadcrumbs"><a href="../Concordion.html">Concordion</a> &gt; <a href="Annotation.html">Annotations</a> &gt;</span><h1>Concordion Options</h1>
<p><em>Since</em>: Concordion 2.0.0</p>
<p>The <a href="http://concordion.github.io/concordion/latest/javadoc/org/concordion/api/option/ConcordionOptions.html">@ConcordionOptions</a> annotation can be applied to specifications to configure aspects of Concordion.</p>
<h2>Saving Source HTML</h2>
<p>For debug purposes, you may wish to save a copy of the source HTML. For example, when using Markdown format, you may want to see the HTML that is generated by the Markdown parser, and used as the input specification to Concordion.</p>
<p>To save a copy, use the <code>@ConcordionOptions</code> annotation on the fixture class with the value of <code>copySourceHtmlToDir</code> set to the target directory. For example:</p>
<pre><code>@RunWith(ConcordionRunner.class)
@ConcordionOptions(copySourceHtmlToDir="/tmp")
public class ...
</code></pre>
<p>The target directory can include system property values in the path, by wrapping the system property key in <code>${</code> and <code>}</code>. For example:</p>
<pre><code>@ConcordionOptions(copySourceHtmlToDir="${java.io.tmpdir}/output")
</code></pre>
<p>will write to the output directory under the system temp folder.</p>
<h2>Markdown Syntax Extensions</h2>
<p>Markdown extensions allow you to change and/or extend the behaviour of the <a href="../specificationType/markdown/Markdown.html">Markdown</a> parser, for example to change the behaviour of new lines, or to support definition lists.</p>
<p>We support two types of extensions - Flexmark options and Pegdown extensions.</p>
<p><a concordion:run="concordion" href="FlexmarkOptions.html" class="success">FlexmarkOptions</a> provides a wider range of extensions and a greater level of control and is the preferred way of adding Markdown extensions.</p>
<h3>Pegdown Extensions</h3>
<p>The original parser in use was <a href="https://github.com/sirthias/pegdown">Pegdown</a>. However, since this has now been deprecated by the author, it has been replaced by the Flexmark parser. <em>(since Concordion 3.0.0)</em></p>
<p>This legacy way of adding extensions continues to be supported by Concordion.</p>
<p>To add Pegdown extensions, use the <code>@ConcordionOptions</code> annotation on the fixture class with the value of <code>markdownExtensions</code> set to an array of <code>MarkdownExtension</code> enumerations. For example:</p>
<pre><code>@RunWith(ConcordionRunner.class)
@ConcordionOptions(markdownExtensions={MarkdownExtensions.WIKILINKS, MarkdownExtensions.AUTOLINKS})
public class ...
</code></pre>
<p>See the <a href="http://concordion.github.io/concordion/latest/javadoc/org/concordion/api/option/MarkdownExtensions.html">MarkdownExtension</a> javadoc for a definition of the available extensions, and the <a href="https://github.com/sirthias/pegdown/blob/master/README.markdown#introduction">Pegdown documentation</a> for more details on each extension.</p>
<div concordion:example="no-extra-extensions" id="no-extra-extensions"><p></p>
<h4>No extra extensions</h4>
<p>Without additional extensions, the following are translated as-is.</p>
<div class="example">
  <h3>Example</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assertEquals="#html">Resulting HTML</th>
    </tr>
    <tr>
      <td>[[not a wikilink]]</td>
      <td class="success">[[not a wikilink]]</td>
    </tr>
    <tr>
      <td>https://concordion.org</td>
      <td class="success">https://concordion.org</td>
    </tr>
  </table>
</div>
</div><div concordion:example="extra-extensions" id="extra-extensions"><p></p>
<h4>With WIKILINKS and QUOTES extensions</h4>
<p>Given the method <code>withPegdownExtensions(int options)</code> has been <span concordion:execute="withWikilinkAndAutolink()">called</span> with <code>options</code> set to <code>org.pegdown.Extensions.WIKILINKS | org.pegdown.Extensions.AUTOLINKS</code>, the following are now translated as shown:</p>
<div class="example">
  <h3>Example</h3>
  <table concordion:execute="#html=translate(#md)">
    <tr>
      <th concordion:set="#md">Markdown</th>
      <th concordion:assertEquals="#html">Resulting HTML</th>
    </tr>
    <tr>
      <td>[[wikilink]]</td>
      <td class="success">&lt;a href="wikilink"&gt;wikilink&lt;/a&gt;</td>
    </tr>
    <tr>
      <td>https://concordion.org</td>
      <td class="success">&lt;a href="https://concordion.org"&gt;https://concordion.org&lt;/a&gt;</td>
    </tr>
  </table>
</div>
</div>
<h2>Additional namespace declarations</h2>
<p>In order to include Concordion commands with namespaces other than the default Concordion namespaces, such as those available in extensions, you must declare the namespace.</p>
<p>This is only applicable to Markdown specifications. In HTML specifications, the namespaces are declared directly in the HTML.</p>
<p>Add the <code>@ConcordionOptions</code> annotation to the fixture class, with the <code>declareNamespaces</code> element set to a list of strings, where the values alternate between namespace prefixes and the namespace they are mapped to. For example:</p>
<pre><code>@RunWith(ConcordionRunner.class)
@ConcordionOptions(declareNamespaces={"ext", "urn:concordion-extensions:2010"})
public class MyFixture
</code></pre>
<div concordion:example="valid-namespace-declarations" id="valid-namespace-declarations"><p></p>
<h3>Valid declarations</h3>
<table concordion:execute="#mappings=parse(#value)">
<thead>
<tr><th concordion:set="#value">declareNamespaces value</th><th concordion:assert-equals="#mappings">Namespace mappings</th></tr>
</thead>
<tbody>
<tr><td> {"ext", "urn:concordion-extensions:2010"} </td><td class="success"> {"ext"= "urn:concordion-extensions:2010"} </td></tr>
<tr><td> {"foo", "http://bar", "x", "urn:baz"} </td><td class="success"> { "x"= "urn:baz", "foo"= "http://bar"} </td></tr>
</tbody>
</table>
</div><div concordion:example="invalid-namespace-declarations" id="invalid-namespace-declarations"><p></p>
<h3>Invalid declarations</h3>
<p>If passing an odd number of arguments, an error will occur:</p>
<table concordion:execute="#message=parseAndReturnExceptionMessage(#value)">
<thead>
<tr><th concordion:set="#value">declareNamespaces value</th><th concordion:assert-equals="#message">Exception message</th></tr>
</thead>
<tbody>
<tr><td> {"foo", "http://bar", "x"} </td><td class="success"> The declareNamespaces element of @ConcordionOptions must include an even number of arguments, alternating between a namespace prefix and the namespace it maps to </td></tr>
</tbody>
</table>
</div><div class="footer">Results generated by <a href="http://www.concordion.org" style="font-weight: bold; text-decoration: none; color: #89C;">Concordion</a><div class="testTime">in 229 ms on 04-Mar-2021 at 22:30:08 NZDT</div></div></body></html>