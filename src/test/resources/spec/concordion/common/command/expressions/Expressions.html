<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<link href="../../../concordion.css" rel="stylesheet" type="text/css" />
<body>

<h1>Expressions</h1>

<p>Concordion uses expressions to reference fields and call methods of the corresponding test fixture and to set specification variables.</p>
<p>In order to <a href="https://concordion.org/Technique.html#keepSpecsSimple">keep your specifications simple and maintainable</a>, Concordion deliberately restricts the expression format that is allowed when instrumenting specifications.
Complexity should be moved into the fixture code, and then <a href="https://concordion.org/Technique.html#evolveDSL">evolved into a DSL</a>, where it is easier to maintain. 
The idea is to have the fixture do all the work of fetching and munging the data and then return exactly the data that the spec needs, 
which helps to decouple the spec from the implementation.</p>
<p>The following expressions are available within Concordion commands:</p>

<div class="example">

    <h3>Examples</h3>

    <p>Evaluation expressions</p>
    <ol>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myProp</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod()</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod(#var1)</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod(#var1, #var2)</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myProp</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myProp.myProp</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var = myProp</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var = myMethod()</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var = myMethod(#var1)</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var = myMethod(#var1, #var2)</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var ? 's1' : 's2'</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myProp ? 's1' : 's2'</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod() ? 's1' : 's2'</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod(#var1) ? 's1' : 's2'</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">myMethod(#var1, #var2) ? 's1' : 's2'</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myProp</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myMethod()</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myMethod(#var1)</li>
        <li concordion:assertTrue="isValidEvaluationExpression(#TEXT)">#var.myMethod(#var1, #var2)</li>
    </ol>
    <p>Set expressions</p>
    <ul>
        <li concordion:assertTrue="isValidSetVariableExpression(#TEXT)">#var = myProp</li>
        <li concordion:assertTrue="isValidSetVariableExpression(#TEXT)">#var = myMethod()</li>
        <li concordion:assertTrue="isValidSetVariableExpression(#TEXT)">#var = myMethod(#var1)</li>
        <li concordion:assertTrue="isValidSetVariableExpression(#TEXT)">#var = myMethod(#var1, #var2)</li>
    </ul>
</div>

<p>However, if you really want to remove this restriction you can apply the annotation <code>@FullOGNL</code> to your fixture class to allow 
<a concordion:run="concordion" href="ComplexExpressions.html">complex expressions</a>. 
This would allow you to do things like
<a href="http://stackoverflow.com/questions/23658633/use-result-object-of-first-concordion-call-as-arg-in-secound-concordion-call">pass property values of Java beans into methods</a>
, or <a href="http://stackoverflow.com/questions/19681470/sending-a-constant-parameter-to-concoridion-execute-call">use constant values in concordion:execute commands</a>.</p>

<h2>Further Details</h2>
<ul>
    <li>The default expression syntax is too limiting. How do I use <a concordion:run="concordion" href="ComplexExpressions.html">complex expressions</a>?</li>
</ul>


</body>
</html>