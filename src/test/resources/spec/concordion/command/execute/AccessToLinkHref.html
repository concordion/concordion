<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
    <link href="../../../../concordion.css" rel="stylesheet" type="text/css" />
    <title>Access to a Link's HREF</title>
</head>    
<body>

    <h1>Access to a Link's HREF</h1>

    <p>
        It is sometimes useful to put test data into a separate file (e.g. a CSV file).
        You can use the magic variable <code>"#HREF"</code> to let your fixture code
        know the URL of an anchor.
	</p>        
	
	<p>
	    Note, however, that having separate test data tends to be a "bad smell" 
	    suggesting that your test is too implementation-specific and/or covers 
	    too many things.  
    </p>        
	<img src="http://www.concordion.org/image/technique/SmellyFish.png"/>
    
    <div class="example">

        <h3>Example</h3>
        
        <p>The following instrumentation:</p>
<pre class="html" concordion:set="#fragment">
&lt;a href="blah.csv" concordion:execute="#x = myMethod(#HREF)"&gt;test file&lt;/a&gt;

&lt;span concordion:assertEquals="#x"&gt;blah.csv&lt;/span&gt;
</pre>
        <p>
            Will execute <code>myMethod()</code> in the Java fixture code and pass in the parameter "blah.csv" as #HREF.
            If <code>myMethod()</code> simply returns the value it receives, then the <code>assertEquals</code> should
            <span concordion:assertEquals="fragmentSucceeds(#fragment) ? 'succeed' : 'fail'">succeed</span>. 
        </p> 
        
    </div>            


</body>
</html>